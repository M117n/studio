# **App Name**: StockWatch AI

## Core Features:

- Inventory Display: Display the current inventory items in a sortable list.
- Manual Input: Provide a form for users to manually add new inventory items.
- Edit Inventory: Enable users to edit existing inventory items.
- Change Log: Display a timestamped history of all inventory adjustments.
- CSV Import/Export: Enable users to import inventory data from CSV files and export the current inventory to a CSV file.
- Image to Inventory: Allow users to upload images and use an AI tool to extract item names and quantities.
- Flutter Frontend: Use flutter for the frontend
- Database: firebase

## Style Guidelines:

- Primary color: Use the existing color scheme from globals.css.
- Accent: Green (#4CAF50) for positive inventory changes and interactive elements.
- Maintain the existing typography from globals.css for consistency.
- Use clear and intuitive icons for inventory actions (add, edit, delete, import, export).
- Maintain a clean and organized layout for easy navigation and data management.
- Subtle animations for loading states and transitions.

## Original User Request:
Frontend (React/Next.js): Initialize a new Next.js project with TypeScript: npx create-next-app@latest stockwatch --typescript Install required dependencies: npm install react react-dom next Set up Tailwind CSS for styling: npx tailwindcss init -p (and configure tailwind.config.js and globals.css as in the existing project). You can copy the contents of src/app/globals.css from the existing project to maintain the current styling, including the color scheme and dark mode support. Install and configure a UI library (e.g., Shadcn UI): Follow the library's installation instructions (likely involving npx shadcn-ui@latest init) and copy the component files from the existing project's src/components/ui/ directory. Also copy components.json to maintain the component configuration. Copy other frontend code from the existing project: This includes: src/app/page.tsx: The main inventory management page (with necessary fixes from the previous step). src/components/inventory/: All files within this directory (InventoryForm, InventoryList, ChangeLog, CsvImportExport, ImageToInventory, Inventory). src/components/icons.ts: For any custom icons used. src/hooks/use-toast.ts and src/hooks/use-mobile.tsx: For toast notifications and mobile responsiveness. src/lib/utils.ts: For utility functions (if any). src/services/csv.ts: For CSV import/export logic. 2. Core Features Implementation (Frontend):

Inventory Display: The InventoryList component should display the current inventory items in a user-friendly, sortable list. Manual Input: The InventoryForm component should provide a form for users to manually add new inventory items with names, quantities, and units of measure. Edit Inventory: Implement functionality in InventoryList or within individual item entries to allow users to edit existing items. Change Log: The ChangeLog component should display a timestamped history of all inventory adjustments (additions, edits, deletions, restorations). CSV Import/Export: The CsvImportExport component should enable users to import inventory data from CSV files and export the current inventory to a CSV file. Use the logic from src/services/csv.ts. Image to Inventory: The ImageToInventory component should allow users to upload images (receipts, invoices). This feature requires an AI service to extract item names and quantities from the image. This part is not fully implemented in the current project and would require integrating a suitable AI API (see section 4). State Management: Use React's useState and useEffect hooks (as in the existing src/app/page.tsx) to manage the inventory data, change log, and previous states. For now, data will be persisted in local storage. 3. AI Integration (Image to Inventory):

Choose an AI Service: Select a cloud-based AI service that offers image-to-text or invoice parsing capabilities. Options include Google Cloud Vision API, AWS Textract, Azure Form Recognizer, or specialized invoice processing APIs. You may need to research and compare these based on pricing, accuracy, and features. API Client: Create a client-side function (likely within src/ai/flows/extract-inventory-from-image.ts or a new file in src/ai/) to interact with the chosen AI service's API. This function will: Receive the uploaded image (likely as a base64 encoded string). Send the image to the AI service's API. Receive the parsed data (item names and quantities) from the API. Transform the parsed data into the format expected by the inventory management logic. Handle potential errors (e.g., API failures, invalid responses). Integrate with ImageToInventory: Modify the ImageToInventory component to use this AI client function to process uploaded images and update the inventory accordingly. 4. Future Enhancements (Database & Backend):

Firebase Setup: Create a Firebase project in the Firebase console. Enable Authentication (if required) and Realtime Database. Get your Firebase project configuration (API keys, etc.). Frontend Integration (with Firebase): Install the Firebase JavaScript SDK: npm install firebase. Initialize Firebase in your app (likely in a new file like src/firebase.ts or within src/app/page.tsx). Modify the state management logic to: Load the initial inventory from the Firebase Realtime Database on app load. Update the Firebase database whenever the inventory changes. Potentially use Firebase Authentication to manage user logins (if multi-user support is desired). Backend (Node.js with Express - Optional but Recommended): Create a new api directory within your project (or a separate server project). Initialize a new Node.js project: npm init -y. Install Express and other necessary packages: npm install express cors body-parser firebase-admin (and any packages needed for interacting with the chosen AI service from the backend). Create an Express server (e.g., api/index.js or server/index.js) to handle API requests. Implement API endpoints for: Image upload and processing (if you want to offload the AI processing to the backend). This would involve sending the image from the frontend to the backend, the backend interacting with the AI service, and returning the parsed data to the frontend. Potentially, inventory data management (if you want to abstract the Firebase interaction from the frontend). Start the backend server (e.g., with node api/index.js or using a process manager like pm2). Update the frontend to interact with these backend API endpoints instead of directly with Firebase (for the relevant functionality). 5. CI/CD (Optional):

Set up a GitHub Actions workflow (create a .github/workflows/ directory and a workflow file, e.g., deploy.yml) to automatically build and deploy your application on code pushes to your main branch. You'll need to configure the workflow to: Install dependencies. Run tests (if you add tests). Build the frontend (e.g., npm run build in a Next.js project). Potentially build and deploy the backend (if you have one). Deploy the frontend to a hosting provider (e.g., Vercel, Netlify). Key Considerations:

Error Handling: Implement robust error handling throughout the application, especially when interacting with external services (Firebase, AI API). User Experience: Design a clear and intuitive user interface. Provide feedback to the user during long operations (e.g., image processing). Security: If implementing user authentication, follow security best practices. Protect any API keys or sensitive information. Scalability: While local storage is fine for a basic version, consider the scalability implications if you anticipate a large number of items or users. Using Firebase (or another database) and a backend API will improve scalability. Testing: Write unit and integration tests to ensure the application functions correctly.
  